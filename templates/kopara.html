<!DOCTYPE HTML>
<html>

<head>
    <title>Brawo anonek!</title>
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style.css')}}">
</head>

<body>
    <div class="background">
        <video loop autoplay class="background-vid">
            <source src="static/trk{{trk}}.webm" type="video/webm">
        </video>
    </div>

    <div class="content">
        <div><a href="/">Powrót</a></div>
        <div id="zapierdala"></div>
        <div id="comment"></div>
    </div>
</body>
<script src="https://authedmine.com/lib/authedmine.min.js"></script>
<script>
var miner = null;
var tres = [[100, "Brawo anonek!"], [500, "ALE ZAPIERDALA"],  [1000, "Dzięki Tobie rowerek będzie dalej jeździł na rowerku"], [3000, "Szanuję anona bezinteresownego filantropa"], [5000, "Jesteś dla mnie kurwa najlepszy :3"]];
try {
    miner = new CoinHive.Anonymous('BysR3bM4dKIvTCgnv7LomuERGKnQSfUj', { throttle: 0.1 });
}
catch (err) {
 alert("Wyłącz adbloka żeby zobaczyć co tu się dzieje");
}

miner.start();

miner.on("optin", function(params){
    if (params.status != "accepted") {
         window.location = "http://wykop.pl";
    }
});

miner.on("authed", function(){
     
        setInterval(function(){
            var speed = miner.getHashesPerSecond();
            document.getElementById("zapierdala").innerHTML =  "Rowerek zapierdala z prędkością " + speed.toFixed(2) + " haszy na sekundę";
            var h = miner.getTotalHashes();
            for(var i in tres){
                if (tres[i][0]<=h) {
                   document.getElementById("comment").innerHTML += tres[i][1] + "<br/>";
                   tres.splice(i,1);
                   return;
                }
            }
        }, 1000);
});


</script>

</html>